angular.module("MyApp",["satellizer","ui.bootstrap","ui.router","ngMessages","checklist-model"]).config(["$locationProvider","$authProvider","$stateProvider","$urlRouterProvider",function(e,t,a,s){function o(e,t){t.isAuthenticated()&&e.path("/salesdashboard")}function n(e,t){t.isAuthenticated()||e.path("/login")}o.$inject=["$location","$auth"],n.$inject=["$location","$auth"],e.html5Mode(!0),s.otherwise("/login"),a.state("login",{url:"/login",templateUrl:"partials/auth/login.html",controller:"LoginCtrl",resolve:{skipIfAuthenticated:o}}).state("signup",{url:"/signup",templateUrl:"partials/auth/signup.html",controller:"SignupCtrl",resolve:{skipIfAuthenticated:o}}).state("forgotpassword",{url:"/forgotpassword",templateUrl:"partials/auth/forgotpassword.html",controller:"ForgotCtrl",resolve:{skipIfAuthenticated:o}}).state("verifyotp",{url:"/verifyotp",templateUrl:"partials/auth/verifyotp.html",controller:"VerifyOTPController",resolve:{skipIfAuthenticated:o},onEnter:["$state","$stateParams",function(e,t){t.mobile||e.go("signup")}],params:{mobile:null}}).state("verifyforgotpassword",{url:"/verifyforgotpassword",templateUrl:"partials/auth/verifyforgotpassword.html",controller:"VerifyForgotPasswordController",resolve:{skipIfAuthenticated:o},onEnter:["$state","$stateParams",function(e,t){t.mobile||e.go("forgotpassword")}],params:{mobile:null}}).state("salesdashboard",{url:"/salesdashboard",templateUrl:"partials/salesdashboard.html",controller:"DashboardController",resolve:{redirectIfNotAuthenticated:n}}).state("school_master",{url:"/profile/schools",templateUrl:"partials/school_master.html",controller:"SchoolMasterController",resolve:{redirectIfNotAuthenticated:n}}).state("school_create",{url:"/profile/schools/create",templateUrl:"partials/school_create.html",controller:"SchoolCreateController",resolve:{redirectIfNotAuthenticated:n}}).state("school_basic_profile",{url:"/profile/schools/{schoolname}/basicprofile",templateUrl:"partials/school_basic_profile.html",controller:"SchoolBasicProfileController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_class_config",{url:"/profile/schools/{schoolname}/schoolclassconfig",templateUrl:"partials/school_class_config.html",controller:"SchoolClassConfigController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_content_config",{url:"/profile/schools/{schoolname}/schoolcontentconfig",templateUrl:"partials/school_content_config.html",controller:"SchoolContentConfigController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_documents",{url:"/profile/schools/{schoolname}/documents",templateUrl:"partials/school_documents.html",controller:"SchoolDocumentsController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_paymentlist",{url:"/profile/schools/{schoolname}/payments",templateUrl:"partials/school_paymentlist.html",controller:"SchoolPaymentListController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_agreement_document_download",{url:"/api/schools/{schoolId}/agreementdownload",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("school_payment_invoice_download",{url:"/api/payments/{schoolId}/download",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null}}).state("school_users",{url:"/profile/schools/{schoolname}/users",templateUrl:"partials/school_users.html",controller:"SchoolUsersController",resolve:{redirectIfNotAuthenticated:n},onEnter:["$state","$stateParams",function(e,t){t.schoolId||e.go("school_master")}],params:{schoolId:null,schoolname:null}}).state("student_promotion",{url:"/schools/{schoolname}/{schoolId}/promotion",templateUrl:"partials/schoolManagement/studentpromotion.html",controller:"Studentpromotioncontroller",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("manage_students",{url:"/schools/{schoolname}/{schoolId}/students",templateUrl:"partials/schoolManagement/manageStudents.html",controller:"ManagestudentsController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("edit_student_management",{url:"/schools/{schoolname}/{schoolId}/students/{student_id}",templateUrl:"partials/schoolManagement/edit_manage_student.html",controller:"EditManagestudentsController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("add_student_management",{url:"/schools/{schoolname}/{schoolId}/addstudents",templateUrl:"partials/schoolManagement/add_manage_student.html",controller:"AddManagestudentsController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("class_teacherMapping",{url:"/profile/schools/{schoolname}/{schoolId}/classteachermapping",templateUrl:"partials/schoolManagement/class_teacherMapping.html",controller:"ClassteacherMappingController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("subject_teacherMapping",{url:"/profile/schools/{schoolname}/{schoolId}/subjectteachermapping",templateUrl:"partials/schoolManagement/subject_teacherMapping.html",controller:"SubjectteacherMappingController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("editBasicProfileSchool",{url:"/profile/schools/{schoolname}/{schoolId}/basicprofile",templateUrl:"partials/schoolManagement/editBasicProfile.html",controller:"EditBasicProfileSchoolController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("editBoyScore",{url:"/profile/schools/{schoolname}/{schoolId}/BOYscore",templateUrl:"partials/boy/boyscores.html",controller:"EditBoyScoreController",resolve:{redirectIfNotAuthenticated:n},params:{schoolId:null,schoolname:null}}).state("board",{url:"/schoolmaster/board",templateUrl:"partials/schoolMasters/board.html",controller:"boardController",resolve:{redirectIfNotAuthenticated:n}}).state("subject",{url:"/schoolmaster/subject",templateUrl:"partials/schoolMasters/subject.html",controller:"subjectController",resolve:{redirectIfNotAuthenticated:n}}).state("section",{url:"/schoolmaster/section",templateUrl:"partials/schoolMasters/section.html",controller:"sectionController",resolve:{redirectIfNotAuthenticated:n}}).state("cluster",{url:"/schoolmaster/cluster",templateUrl:"partials/schoolMasters/cluster.html",controller:"clusterController",resolve:{redirectIfNotAuthenticated:n}}).state("component",{url:"/schoolmaster/component",templateUrl:"partials/schoolMasters/component.html",controller:"componentController",resolve:{redirectIfNotAuthenticated:n}}).state("resource-type",{url:"/schoolmaster/resource-type",templateUrl:"partials/schoolMasters/resourceType.html",controller:"resourceTypeController",resolve:{redirectIfNotAuthenticated:n}}).state("role",{url:"/schoolmaster/role",templateUrl:"partials/schoolMasters/role.html",controller:"roleController",resolve:{redirectIfNotAuthenticated:n}}).state("class",{url:"/schoolmaster/class",templateUrl:"partials/schoolMasters/class.html",controller:"classController",resolve:{redirectIfNotAuthenticated:n}}).state("department",{url:"/systemmaster/department",templateUrl:"partials/schoolManagement/department.html",controller:"departmentController",resolve:{redirectIfNotAuthenticated:n}}).state("designation",{url:"/systemmaster/designation",templateUrl:"partials/schoolManagement/designation.html",controller:"designationController",resolve:{redirectIfNotAuthenticated:n}}).state("schoolroles",{url:"/systemmaster/schoolroles",templateUrl:"partials/schoolManagement/roles.html",controller:"schoolrolesController",resolve:{redirectIfNotAuthenticated:n}}).state("addcommunication",{url:"/systemmaster/communicationadd",templateUrl:"partials/communication/add.html",controller:"addcommunicationController",resolve:{redirectIfNotAuthenticated:n}}).state("viewcommunication",{url:"/systemmaster/communicationview",templateUrl:"partials/communication/view.html",controller:"viewcommunicationController",resolve:{redirectIfNotAuthenticated:n}}).state("classDivision",{url:"/profile/schools/{schoolname}/{schoolId}/classDivision",templateUrl:"partials/schoolManagement/classDivision.html",controller:"classDivisionController",resolve:{redirectIfNotAuthenticated:n}}).state("logout",{url:"/logout",controller:"LogoutCtrl"}).state("404",{url:"/404",templateUrl:"partials/404.html"}),t.loginUrl="/login",t.signupUrl="/signup"}]).constant("_",window._).run(["$rootScope","$window","$state",function(e,t,a){e._=window._,t.localStorage.user&&(e.currentUser=JSON.parse(t.localStorage.user)),e.$on("$stateChangeSuccess",function(t,a,s,o,n){switch(a.name){case"signup":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;case"login":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;case"forgotpassword":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;case"verifyotp":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;case"verifyforgotpassword":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;case"404":e.$header=!1,e.$footer=!1,e.$leftsidebar=!1,e.$isExternalPage=!0;break;default:e.$header=!0,e.$footer=!0,e.$leftsidebar=!0,e.$isExternalPage=!1}}),e.$on("$viewContentLoading",function(e,t){angular.element(document).ready(function(){Core.init(),Demo.init(),CanvasBG.init({Loc:{x:window.innerWidth/2,y:window.innerHeight/3.3}})})})}]),angular.module("MyApp").controller("ContactCtrl",["$scope","Contact",function(e,t){e.sendContactForm=function(){t.send(e.contact).then(function(t){e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("ForgotCtrl",["$scope","Account","$location","$state",function(e,t,a,s){e.forgotPassword=function(a){var o=!0;angular.forEach(a.$error.required,function(e){e.$setDirty(),o=!1}),a.$valid&&o&&t.forgotPassword(e.user).then(function(t){t.data.success&&s.go("verifyforgotpassword",{mobile:e.user.mobile}),e.messages={success:[t.data]}})["catch"](function(t){0==t.data.success?e.errorMessage=t.data.msg:e.errorMessage=t.data[0].msg})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]),angular.module("MyApp").controller("HeaderCtrl",["$scope","$location","$window","$auth",function(e,t,a,s){e.isActive=function(e){return e===t.path()},e.isAuthenticated=function(){return s.isAuthenticated()},e.logout=function(){s.logout(),delete a.localStorage.user,t.path("/")}}]),angular.module("MyApp").controller("LoginCtrl",["$scope","$rootScope","$location","$window","$state","$auth",function(e,t,a,s,o,n){e.login=function(a){var o=!0;angular.forEach(a.$error.required,function(e){e.$setDirty(),o=!1}),a.$valid&&o&&n.login(e.user).then(function(e){e.data.success&&(t.currentUser=e.data.user,s.localStorage.user=JSON.stringify(e.data.user),s.location.reload())})["catch"](function(t){0==t.data.success?e.errorMessage=t.data.msg:e.errorMessage=t.data[0].msg})},e.authenticate=function(a){n.authenticate(a).then(function(e){t.currentUser=e.data.user,s.localStorage.user=JSON.stringify(e.data.user),o.go("salesdashboard")})["catch"](function(t){t.error?e.messages={error:[{msg:t.error}]}:t.data&&(e.messages={error:[t.data]})})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]),angular.module("MyApp").controller("LogoutCtrl",["$scope","$rootScope","$location","$window","$state","$auth",function(e,t,a,s,o,n){e.init=function(){s.localStorage.clear(),o.go("login")},e.init()}]),angular.module("MyApp").controller("ProfileCtrl",["$scope","$rootScope","$location","$window","$auth","Account",function(e,t,a,s,o,n){e.profile=t.currentUser,e.updateProfile=function(){n.updateProfile(e.profile).then(function(a){t.currentUser=a.data.user,s.localStorage.user=JSON.stringify(a.data.user),e.messages={success:[a.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.changePassword=function(){n.changePassword(e.profile).then(function(t){e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.link=function(t){o.link(t).then(function(t){e.messages={success:[t.data]}})["catch"](function(t){s.scrollTo(0,0),e.messages={error:[t.data]}})},e.unlink=function(t){o.unlink(t).then(function(){e.messages={success:[response.data]}})["catch"](function(t){e.messages={error:[t.data]}})},e.deleteAccount=function(){n.deleteAccount().then(function(){o.logout(),delete s.localStorage.user,a.path("/")})["catch"](function(t){e.messages={error:[t.data]}})}}]),angular.module("MyApp").controller("ResetCtrl",["$scope","Account",function(e,t){e.resetPassword=function(){t.resetPassword(e.user).then(function(t){e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("DashboardController",["$scope","$rootScope","$location","$window","Account","$stateParams","$state","schoolMasterFactory",function(e,t,a,s,o,n,r,i){function c(e,t){var a=[];for(var s in e){var o=t?t+"["+s+"]":s,n=e[o];a.push(angular.isObject(n)?c(n,o):o+"="+encodeURIComponent(n))}return a.join("&")}e.getSchoolSalesList=function(){i.getSchoolSalesList().then(function(t){e.schoolLists=t.data.schools,e.messages={success:[t.data]},console.log(e.schoolLists)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolSalesList(),e.schoolSerach=function(t){if(t.$valid){var a=c(e.school).trim();e.errorMessage="",i.searchSchoolSalesList(a).then(function(t){1==t.data.success?(e.messages={success:[t.data]},e.schoolLists=t.data.schools,angular.element("#schoolSearchModal").modal("hide"),e.school={}):e.errorMessage=t.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}},e.editBasicProfile=function(e,t){r.go("school_basic_profile",{schoolId:e,schoolname:t})},e.editClassConfiguration=function(e,t){r.go("school_class_config",{schoolId:e,schoolname:t})},e.editContentConfiguration=function(e,t){r.go("school_content_config",{schoolId:e,schoolname:t})},e.editActiveSchool=function(t){i.activeSchool(t).then(function(t){e.messages={success:[t.data]},r.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.editDeactiveSchool=function(t){i.deactiveSchool(t).then(function(t){e.messages={success:[t.data]},r.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.editDocument=function(e,t){r.go("school_documents",{schoolId:e,schoolname:t})},e.editPaymentList=function(e,t){r.go("school_paymentlist",{schoolId:e,schoolname:t})},e.manageSchoolUsers=function(e,t){r.go("school_users",{schoolId:e,schoolname:t})},e.openSchoolSearch=function(){e.errorMessage=""},e.cancelSchoolSearch=function(){e.school={}},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]),angular.module("MyApp").controller("SchoolMasterController",["$scope","$rootScope","$location","$window","Account","$stateParams","$state","schoolMasterFactory",function(e,t,a,s,o,n,r,i){e.getSchoolSalesList=function(){i.getSchoolSalesList().then(function(t){e.schoolLists=t.data.schools,e.messages={success:[t.data]},console.log(e.schoolLists)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolSalesList(),e.schoolSerachForm=function(e){console.log(e.school)},e.editBasicProfile=function(e,t){r.go("school_basic_profile",{schoolId:e,schoolname:t})},e.editClassConfiguration=function(e,t){r.go("school_class_config",{schoolId:e,schoolname:t})},e.editContentConfiguration=function(e,t){r.go("school_content_config",{schoolId:e,schoolname:t})},e.editActiveSchool=function(t){i.activeSchool(t).then(function(t){e.messages={success:[t.data]},r.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.editDeactiveSchool=function(t){i.deactiveSchool(t).then(function(t){e.messages={success:[t.data]},r.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.editDocument=function(e,t){r.go("school_documents",{schoolId:e,schoolname:t})},e.editPaymentList=function(e,t){r.go("school_paymentlist",{schoolId:e,schoolname:t})},e.manageSchoolUsers=function(e,t){r.go("school_users",{schoolId:e,schoolname:t})},e.manageSchoolStudents=function(e,t){r.go("manage_students",{schoolId:e,schoolname:t})},e.studentPromotion=function(e,t){r.go("student_promotion",{schoolId:e,schoolname:t})},e.schoolSerach=function(t){t.$valid&&console.log(e.school)},e.cancelSchoolSearch=function(){e.school={}},e.manageSchoolClassTeacher=function(e,t){r.go("class_teacherMapping",{schoolId:e,schoolname:t})},e.manageSchoolSubjectTeacher=function(e,t){r.go("subject_teacherMapping",{schoolId:e,schoolname:t})},e.editBasicProfileSchoolManagement=function(e,t){r.go("editBasicProfileSchool",{schoolId:e,schoolname:t})},e.editBoyScore=function(e,t){r.go("editBoyScore",{schoolId:e,schoolname:t})},e.classDivision=function(e,t){r.go("classDivision",{schoolId:e,schoolname:t})}}]);var Myapp=angular.module("MyApp").controller("SchoolBasicProfileController",["$scope","$rootScope","$location","$window","Account","$stateParams","$state","schoolMasterFactory","clusterFactory","pincodeFactory","academicYearFactory","schoolTypeFactory",function(e,t,a,s,o,n,r,c,l,d,u,g){e.schoolId=n.schoolId,e.schoolname=n.schoolname,e.showCityState=!0,e.school={},e.schoolBasicProfile=function(t){var a=!0;return angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),!(!t.$valid||!a)&&(c.editSchoolBasicInfo(e.schoolId,e.school).then(function(t){e.messages={success:[t.data]},e.addschoolData=t.data.school,r.go("school_master")})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}),void console.log(e.school))},e.getClusterMaster=function(){l.getClusterDetail().then(function(t){e.clusterMasters=t.data.cluster,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getAcademicYearMaster=function(){u.getAcademicYearDetail().then(function(t){e.academicYearMasters=t.data.academicYears,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolTypeMaster=function(){g.getSchoolTypeDetail().then(function(t){e.schoolTypeMasters=t.data.schoolTypes,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolBasicInfo=function(){c.getSchoolBasicInfo(e.schoolId).then(function(t){e.school.acadyear=t.data.school.acadminc_year_id.toString(),e.school.address1=t.data.school.address_line1,e.school.address2=t.data.school.address_line2,e.school.logo=t.data.school.logo,e.school.coverImage=t.data.school.cover_img,e.school.admin_mobile=Number(t.data.school.admin_telephone),e.school.cluster=t.data.school.cluster_id.toString(),e.school.email=t.data.school.email,e.school.established=new Date(t.data.school.estabished),e.school.home_phone=Number(t.data.school.telephone2),e.school.pincode=Number(t.data.school.pincode_id),e.school.pincode&&e.checkPinCode(e.school.pincode),e.school.city=t.data.school.city,e.school.state=t.data.school.state,e.school.mission=t.data.school.mission,e.school.name=t.data.school.name,e.school.newspaper=t.data.school.news_paper,e.school.school_chain=t.data.school.school_chain,e.school.school_type=t.data.school.school_type_id.toString(),e.school.vision=t.data.school.vision,e.school.website=t.data.school.website,e.school.yearBook=Number(t.data.school.year_book),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolBasicInfo(),e.getClusterMaster(),e.getAcademicYearMaster(),e.getSchoolTypeMaster(),e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t},e.checkPinCode=function(t){d.getPincodeDetails(t).then(function(t){for(e.pincodeDetails=t.data.pincode,e.messages={success:[t.data]},e.uniqueStates=[],i=0;i<e.pincodeDetails.length;i++)e.uniqueStates.indexOf(e.pincodeDetails[i].state)===-1&&e.uniqueStates.push(e.pincodeDetails[i].state);e.showCityState=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]);Myapp.directive("demoFileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,s){var o=e(s.demoFileModel),n=o.assign;a.bind("change",function(){t.$apply(function(){n(t,a[0].files[0])})})}}}]),angular.module("MyApp").filter("range",function(){return function(e,t,a){t=parseInt(t),a=parseInt(a);for(var s=t;s<a;s++)e.push(s);return e}}).controller("SchoolClassConfigController",["$scope","_","$rootScope","$location","$window","Account","$stateParams","$state","schoolMasterFactory",function(e,t,a,s,o,n,r,i,c){e.getSchoolClassConfig=function(){c.getSchoolClassConfig(r.schoolId).then(function(t){e.data=t.data})},e.getSchoolClassConfig(),e.fetchClassConfig=function(e){}}]),angular.module("MyApp").controller("SchoolContentConfigController",["$scope","_","$rootScope","$location","$window","Account","$stateParams","$state","schoolMasterFactory","boardFactory",function(e,t,a,s,o,n,r,i,c,l){e.contentConfigRegularClassesArray=[],e.contentConfigElgaClassesArray=[],e.schoolId=r.schoolId,e.schoolname=r.schoolname,e.hasSchoolContentConfig,e.isExists=function(e,t){return e.some(function(e){return e["class"].id===t})},e.contentconfig={},e.rSUSVValues,e.returnSubjectUnitSquenceVersionObj=function(e,a){var s=t.findIndex(e,["class_id",a]);if(s!==-1)return console.log(s),console.log(e[s]),e[s]},e.getBoardMaster=function(){l.getBoardDetail().then(function(t){e.boardMasters=t.data.board,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolContentConfig=function(){c.getSchoolContentConfig(e.schoolId).then(function(a){console.log(a.data.school_content),t.isEmpty(a.data.school_content)?e.hasSchoolContentConfig=!1:e.hasSchoolClassConfig=!0,console.log(e.hasSchoolClassConfig),e.schoolContentConfig=a.data.school_content,e.classesMaster=a.data.masters.classes,e.subjectsMaster=a.data.masters.subjects;var s=[],o=[];angular.forEach(e.classesMaster,function(t,a){if("regular"==t.class_type){angular.forEach(t.subjects,function(t,a){var o=e.subjectsMaster.filter(function(e){return e.id===t.subject_id})[0],n={sub_id:t.subject_id,sub_name:o.name};s.push(n)});var o=e.isExists(e.schoolContentConfig,t.id),n=e.returnSubjectUnitSquenceVersionObj(e.schoolContentConfig,t.id),r={class_id:t.id,name:t.name,subjects:s,subject_id:n?n.subject_id.toString():null,unit_sequence_id:n?n.unit_sequence_id.toString():null,checked:o};e.contentConfigRegularClassesArray.push(r)}}),angular.forEach(e.classesMaster,function(t,a){if("elga"==t.class_type){angular.forEach(t.subjects,function(t,a){var s=e.subjectsMaster.filter(function(e){return e.id===t.subject_id})[0],n={sub_id:t.subject_id,sub_name:s.name};o.push(n)});var s=e.isExists(e.schoolContentConfig,t.id),n=e.returnSubjectUnitSquenceVersionObj(e.schoolContentConfig,t.id),r={class_id:t.id,name:t.name,subjects:o,unit_sequence_id:n?n.unit_sequence_id.toString():null,checked:s};e.contentConfigElgaClassesArray.push(r)}}),console.log(e.contentConfigRegularClassesArray),console.log(e.contentConfigElgaClassesArray),e.messages={success:[a.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getBoardMaster(),e.getSchoolContentConfig(),e.range=function(e,t,a){a=a||1;for(var s=[],o=e;o<=t;o+=a)s.push(o);return s},e.regularClasses=[],e.elgaClasses=[],e.changeRegularClasses=function(t){if(console.log(t),null==t.subject_id||null==t.unit_sequence_id)t.SELECTED="N",t.checked=!1,o.alert("Please choose Subject and Unit Sequence Version.");else{var a=e.regularClasses.indexOf(t);a===-1?e.regularClasses.push(t):e.regularClasses.splice(a,1)}},e.changeElgaClasses=function(t){if(console.log(t),null==t.unit_sequence_id)t.SELECTED="N",t.checked=!1,o.alert("Please choose Unit Sequence Version.");else{var a=e.elgaClasses.indexOf(t);a===-1?e.elgaClasses.push(t):e.elgaClasses.splice(a,1)}},e.contentConfig=function(t){var a=!0;return angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),!(!t.$valid||!a)&&(e.contentConfigResult={school_id:e.schoolId,board_id:parseInt(e.contentconfig.schoolBoard),regularClasses:e.regularClasses,elgaClasses:e.elgaClasses},console.log(e.contentConfigResult),c.addSchoolContentConfig(e.contentConfigResult).then(function(t){e.messages={success:[t.data]},e.addSchoolContentConfigMsg=t.data.msg,o.alert(e.addSchoolContentConfigMsg)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}),void 0)},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]);var Myapp=angular.module("MyApp").controller("SchoolCreateController",["$scope","$rootScope","$location","$window","Account","$state","schoolMasterFactory","clusterFactory","pincodeFactory","academicYearFactory","schoolTypeFactory",function(e,t,a,s,o,n,r,c,l,d,u){e.showCityState=!0,e.schoolCreate=function(t){var a=!0;return angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),!(!t.$valid||!a)&&void r.addSchools(e.school).then(function(t){e.messages={success:[t.data]},e.addschoolData=t.data.school,n.go("salesdashboard")})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClusterMaster=function(){c.getClusterDetail().then(function(t){e.clusterMasters=t.data.cluster,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getAcademicYearMaster=function(){d.getAcademicYearDetail().then(function(t){e.academicYearMasters=t.data.academicYears,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolTypeMaster=function(){u.getSchoolTypeDetail().then(function(t){e.schoolTypeMasters=t.data.schoolTypes,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClusterMaster(),e.getAcademicYearMaster(),e.getSchoolTypeMaster(),e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t},e.checkPinCode=function(t){l.getPincodeDetails(t).then(function(t){for(e.pincodeDetails=t.data.pincode,e.messages={success:[t.data]},e.uniqueStates=[],i=0;i<e.pincodeDetails.length;i++)e.uniqueStates.indexOf(e.pincodeDetails[i].state)===-1&&e.uniqueStates.push(e.pincodeDetails[i].state);e.showCityState=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]);angular.module("MyApp").controller("SchoolDocumentsController",["$scope","$rootScope","$location","$window","Account","$stateParams","$state","schoolDocumentFactory",function(e,t,a,s,o,n,r,i){e.schoolId=n.schoolId,e.schoolname=n.schoolname,e.getDocumentsBySchoolID=function(){i.getDocumentsBySchoolID(e.schoolId).then(function(t){e.document_details=t.data.document_details,e.messages={success:[t.data]},console.log(e.document_details)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addDocument=function(t){t.$valid&&i.addDocument(e.schoolId,e.school).then(function(t){e.messages=t.data.success,1==e.messages?s.alert("Document upload successfully."):s.alert("opps!! something went wrong."),e.addDocumentData=t.data.documents_details,r.reload(),r.go("school_master")})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]);var MyApp=angular.module("MyApp").controller("SchoolPaymentListController",["$scope","$filter","$rootScope","$location","$window","Account","$stateParams","$state","schoolPaymentFactory",function(e,t,a,s,o,n,r,i,c){e.schoolId=r.schoolId,e.schoolname=r.schoolname,e.selectedPaymentId,e.showModal=!1,e.addpayment={pay_mode_id:1},e.getPaymentsBySchoolID=function(){c.getPaymentsBySchoolID(e.schoolId).then(function(t){e.paymentLists=t.data.payment_details,e.messages={success:[t.data]},console.log(e.paymentLists)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getPaymentsBySchoolID(),e.addPayment=function(t){t.$valid&&(console.log("addpayment"),console.log(e.addpayment),c.addPayment(e.schoolId,e.addpayment).then(function(t){e.messages={success:[t.data]},e.addPaymentData=t.data.payments_details,i.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.editPaymentDetails=function(t){t.$valid&&(console.log("paymentId="+e.paymentId),c.editPayment(e.paymentId,e.payment).then(function(t){e.messages={success:[t.data]},e.editPaymentData=t.data.payments_details,i.reload()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.editPaymentList=function(t){e.paymentId=t,e.getPaymentByPaymentID(t)},e.downloadInvoice=function(e){i.go("school_payment_invoice_download",{schoolId:e})},e.getPaymentByPaymentID=function(t){c.getPayment(t).then(function(t){e.payment=t.data.payment_details,console.log(e.payment),e.payment.amount=parseInt(e.payment.amount),e.messages={success:[t.data]},console.log(e.payment)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]);angular.module("MyApp").controller("SchoolUsersController",["$scope","_","$rootScope","$location","$window","Account","$stateParams","$state","schoolUsersFactory","roleFactory","designationFactory",function(e,t,a,s,o,n,r,i,c,l,d){function u(){$("body").addClass("remove_rightpadding")}e.schoolId=r.schoolId,e.schoolname=r.schoolname,e.schooluser={school_id:e.schoolId},e.getRoleDetails=function(){l.getRoleDetail().then(function(t){e.roleDetails=t.data.roles,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getdesignationDetails=function(){d.getDesignationDetail().then(function(t){e.designationDetails=t.data.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolUsersBySchoolId=function(){c.getSchoolUsersBySchoolId(e.schoolId).then(function(t){e.schoolUsers=t.data.users_details,e.messages={success:[t.data]},console.log(e.schoolUsers)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSchoolUsersBySchoolId(),e.getRoleDetails(),e.getdesignationDetails(),e.returnRoleName=function(a){var a=parseInt(a),s=t.findIndex(e.roleDetails,["id",a]);return s!==-1?e.roleDetails[s].role_name:"Undefined"},e.addU=function(){e.schooluser={},e.errorMessage=""},e.addSchoolUsers=function(t){t.$valid&&(console.log(e.schooluser),c.addSchoolUsers(e.schoolId,e.schooluser).then(function(a){console.log("I am in response part"),1==a.data.success?(console.log("I am in true part"),console.log(a),e.messages={success:[a.data]},t.$setUntouched(),t.$setPristine(!0),document.getElementById("addSchoolUsers").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),i.reload(),u()):(console.log("I am in false part"),e.errorMessage=a.data.msg)})["catch"](function(t){console.log("I am in catch part"),e.errorMessage=t.data.msg,e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.editSchoolUsers=function(t){t.$valid&&c.editSchoolUser(e.schoolId,e.userId,e.schooluser).then(function(a){1==a.data.success?(e.messages={success:[a.data]
},e.editUserData=a.data.user,t.$setUntouched(),t.$setPristine(!0),document.getElementById("editSchoolUsers").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),i.reload(),u()):(console.log("I am in false part"),e.errorMessage=a.data.msg)})["catch"](function(t){console.log("I am in catch part"),e.errorMessage=t.data.msg,e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.schooUserEdit=function(t){e.userId=t,e.getUserByUserID(t),console.log("school_user"),console.log(t)},e.getUserByUserID=function(t){c.getUserByUserId(e.schoolId,t).then(function(t){e.schooluser=t.data.user,e.schooluser.mobile=Number(t.data.user.mobile),e.schooluser.access_till=new Date(t.data.user.access_till),console.log(e.schooluser),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.uploadFile=function(t){c.uploadUserList(e.schoolId,t).then(function(e){})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]);var MyApp=angular.module("MyApp").controller("SignupCtrl",["$scope","$rootScope","$location","$window","$auth","$state",function(e,t,a,s,o,n){e.signup=function(t){var a=!0;angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),t.$valid&&a&&o.signup(e.user).then(function(t){t.data.success&&n.go("verifyotp",{mobile:e.user.mobile})})["catch"](function(t){0==t.data.success?e.errorMessage=t.data.msg:e.errorMessage=t.data[0].msg})},e.authenticate=function(n){o.authenticate(n).then(function(e){t.currentUser=e.data.user,s.localStorage.user=JSON.stringify(e.data.user),a.path("/")})["catch"](function(t){t.error?e.messages={error:[{msg:t.error}]}:t.data&&(e.messages={error:[t.data]})})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]);angular.module("MyApp").controller("VerifyOTPController",["$scope","$rootScope","$location","$window","Account","$stateParams",function(e,t,a,s,o,n){e.user={mobile:n.mobile},e.verifyOtp=function(n){var r=!0;angular.forEach(n.$error.required,function(e){e.$setDirty(),r=!1}),n.$valid&&r&&o.verifyOtp(e.user).then(function(e){1==e.data.success&&(t.currentUser=e.data.user,s.localStorage.user=JSON.stringify(e.data.user),s.localStorage.satellizer_token=e.data.token,a.path("/salesdashboard"))})["catch"](function(t){0==t.data.success?e.errorMessage=t.data.msg:e.errorMessage=t.data[0].msg})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]);var MyApp=angular.module("MyApp").controller("VerifyForgotPasswordController",["$scope","$rootScope","$location","$window","Account","$stateParams",function(e,t,a,s,o,n){e.user={mobile:n.mobile},e.verifyforgotpassword=function(t){var a=!0;angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),t.$valid&&a&&o.verifyForgotPassword(e.user).then(function(t){1==t.data.success&&(e.successMessages="your password reset successfully!!")})["catch"](function(t){0==t.data.success?e.errorMessage=t.data.msg:e.errorMessage=t.data[0].msg})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]);MyApp.directive("compareTo",function(){return{require:"ngModel",scope:{confirmPassword:"=compareTo"},link:function(e,t,a,s){s.$validators.compareTo=function(t){return t==e.confirmPassword},e.$watch("confirmPassword",function(){s.$validate()})}}}),angular.module("MyApp").controller("EditBoyScoreController",["$scope","$rootScope","Account","$stateParams","$state","boyScoreFactory",function(e,t,a,s,o,n){e.schoolId=s.schoolId,e.schoolname=s.schoolname,e.getLiteacylevelDetails=function(){n.getLiteacylevelDetail().then(function(t){e.liteacyLevelDetail=t.data.classes,e.litercyLevel=new Array,angular.forEach(e.liteacyLevelDetail,function(t,a){"elga"==t.class_type&&e.litercyLevel.push(t)}),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getLiteacylevelDetails(),e.getClassDivDetail=function(){n.getClassDivDetails(e.schoolId).then(function(t){e.classDivDetail=t.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDivDetail(),e.getDivision=function(t){var a=t;angular.forEach(e.classDivDetail,function(t,s){t.id==a&&(e.divisionList=t.divs,console.log(e.divisionList))})},e.boyFilterDetailResponse=function(){var t={};e.selectedClassDiv&&(t.class_id=e.selectedClassDiv.id),e.selectDivision&&(t.division_id=e.selectDivision.id),e.boyStudentDetail&&(t.elga_assigned=e.boyStudentDetail.elgastatus),e.boyStudentDetail&&(t.student_name=e.boyStudentDetail.studentName),n.getBoyScoreFilterDetail(e.schoolId,t).then(function(t){var a=t.data.students;e.studentsVM=angular.copy(a),angular.forEach(e.studentsVM,function(e,t){null==e.T1?(e.T1={},e.T1.scoreDisabled=!1):e.T1.scoreDisabled=!0,null==e.T2?(e.T2={},e.T2.show=!1):e.T2.score?(e.T2.show=!0,e.T2.scoreDisabled=!0):(e.T2.show=!0,e.T2.scoreDisabled=!1),null==e.T3?(e.T3={},e.T3.show=!1):(e.T3.scoreDisabled=!0,e.T3.show=!0),null==e.T4?(e.T4={},e.T4.show=!1):(e.T4.scoreDisabled=!0,e.T4.show=!0)}),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.boyScoreSubmitT1=function(t){var a="T1";if(console.log(t),e.$watch(t.T1,function(e,a){alert(t.T1),console.log(e),console.log(a)}),null==t[a].score&&null==t[a].level)alert("Please select test level and score.");else{t[a].scoreDisabled=!0,t[a].levelDisabled=!0,t[a].show=!0;var s="T2",o={test_number:"1",test_level_id:t[a].id,test_score:t[a].score};n.getBoyDetailSubmit(o,t.admissionId).then(function(a){0==a.data.status?(t.assignedElga={},t.assignedElga.name=a.data.assignedElga.name,t[s].scoreDisabled=!0,t[s].show=!1):(t[s].level=a.data.nextTest.literacy_level_start,t[s].scoreDisabled=!1,t[s].show=!0,e.literacy_levelT2id=a.data.nextTest.id)},function(e){t[a].scoreDisabled=!1,t[a].levelDisabled=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}},e.boyScoreSubmitT2=function(t){var a="T2";if(null==t[a].score&&null==t[a].level)alert("Please select test level and score.");else{t[a].scoreDisabled=!0,t[a].levelDisabled=!0,t[a].show=!0;var s="T3",o={test_number:"2",test_level_id:e.literacy_levelT2id,test_score:t[a].score};n.getBoyDetailSubmit(o,t.admissionId).then(function(a){0==a.data.status?(t.assignedElga={},t.assignedElga.name=a.data.assignedElga.name,t[s].scoreDisabled=!0,t[s].show=!1):(t[s].level=a.data.nextTest.literacy_level_start,t[s].scoreDisabled=!1,t[s].show=!0,e.literacy_levelT3id=a.data.nextTest.id),e.messages={success:[a.data]}},function(e){t[a].scoreDisabled=!1,t[a].levelDisabled=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}},e.boyScoreSubmitT3=function(t){var a="T3";if(null==t[a].score&&null==t[a].level)alert("Please select test level and score.");else{t[a].scoreDisabled=!0,t[a].levelDisabled=!0,t[a].show=!0;var s="T4",o={test_number:"3",test_level_id:e.literacy_levelT3id,test_score:t[a].score};n.getBoyDetailSubmit(o,t.admissionId).then(function(a){0==a.data.status?(t.assignedElga={},t.assignedElga.name=a.data.assignedElga.name,t[s].scoreDisabled=!0,t[s].show=!1):(t[s].level=a.data.nextTest.literacy_level_start,t[s].scoreDisabled=!1,t[s].show=!0,e.literacy_levelT4id=a.data.nextTest.id),e.messages={success:[a.data]}},function(e){t[a].scoreDisabled=!1,t[a].levelDisabled=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}},e.boyScoreSubmitT4=function(t){var a="T4";if(null==t[a].score&&null==t[a].level)return alert("Please select test level and score."),!1;t[a].scoreDisabled=!0,t[a].levelDisabled=!0,t[a].show=!0;var s={test_number:"4",test_level_id:e.literacy_levelT4id,test_score:t[a].score};n.getBoyDetailSubmit(s,t.admissionId).then(function(a){0==a.data.status&&(t.assignedElga={},t.assignedElga.name=a.data.assignedElga.name,t[nextTest].scoreDisabled=!0,t[nextTest].show=!1),e.messages={success:[a.data]}},function(e){t[a].scoreDisabled=!1,t[a].levelDisabled=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deletStudenBOYDetail=function(e){n.deletStudenBOYDetails(e.admissionId).then(function(t){1==t.data.success&&(e.T1={levelDisabled:!1,scoreDisabled:!1},e.T2={levelDisabled:!1,scoreDisabled:!1},e.T3={levelDisabled:!1,scoreDisabled:!1},e.T4={levelDisabled:!1,scoreDisabled:!1},e.assignedElga={})})}}]),angular.module("MyApp").controller("addcommunicationController",["$scope",function(e){alert("asdf"),e.communication_form=function(){console.log(e.communication)}}]),angular.module("MyApp").controller("AddManagestudentsController",["$scope","$rootScope","Account","$stateParams","$state","managestudentsfactory","pincodeFactory","classDivisionFactory",function(e,t,a,s,o,n,r,c){e.schoolId=s.schoolId,e.schoolname=s.schoolname,e.showCityState=!0,e.blank="",e.Bloodgroupdata=function(){e.bloodgroup=[{name:"A+"},{name:"A-"},{name:"B+"},{name:"B-"},{name:"O+"},{name:"O-"},{name:"AB+"},{name:"AB-"}]},e.Bloodgroupdata(),e.Status=function(){e.status=[{id:"inactive",name:"Inactive"},{id:"active",name:"Active"},{id:"completed",name:"Completed"},{id:"trasferred",name:"Trasferred"}]},e.Status(),e.checkPinCode=function(t){r.getPincodeDetails(t).then(function(t){for(e.pincodeDetails=t.data.pincode,e.messages={success:[t.data]},e.uniqueStates=[],i=0;i<e.pincodeDetails.length;i++)e.uniqueStates.indexOf(e.pincodeDetails[i].state)===-1&&e.uniqueStates.push(e.pincodeDetails[i].state);e.showCityState=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails=function(){c.getClassDivisionDetail(e.schoolId).then(function(t){if(e.classDetails=t.data,e.regularclass=[],e.elgaclass=[],e.sectionDetails_regular=[],e.sectionDetails_elga=[],0!=e.classDetails.length){for(i=0;i<e.classDetails.length;i++)if("regular"==e.classDetails[i].type){if(e.regularclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_regular)&&e.sectionDetails_regular.push(e.classDetails[i].divs[j])}else if(e.elgaclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_elga)&&e.sectionDetails_elga.push(e.classDetails[i].divs[j]);console.log(e.regularclass),console.log(e.elgaclass),console.log(e.sectionDetails_regular),console.log(e.sectionDetails_elga)}e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails(),e.checkValue=function(e,t){var a=!0;if(0!=t.length)for(var s=0;s<t.length;s++){var o=t[s].id;if(o==e){a=!1;break}}return a},e.addstudentBasicProfile=function(t){console.log(e.editstudentsDetails);var a=!0;return angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),!(!t.$valid||!a)&&void n.addstudentmanagementDetail(e.schoolId,e.editstudentsDetails).then(function(e){console.log(e),$sucess=e.data.success,1==$sucess?alert("Student added successfully"):alert("Failure in student addition")})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]),angular.module("MyApp").controller("classDivisionController",["$scope","$rootScope","Account","$stateParams","$state","classDivisionFactory",function(e,t,a,s,o,n){e.schoolId=s.schoolId,e.schoolname=s.schoolname,e.getClassDivDetail=function(){n.getClassDivisionDetail(e.schoolId).then(function(t){e.classDivisionDetail=t.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDivDetail(),e.getElgaRegularDivision=function(){angular.forEach(e.classDivisionDetail,function(t,a){"regular"===t.type&&(e.regularDivisionDetails=t.divs,console.log("regularDivisionDetails",e.regularDivisionDetails)),"elga"===t.type&&(e.elgaDivisionDetails=t.divs,console.log("elgaDivisionDetails",e.elgaDivisionDetails))})},e.classDivisionFilter=function(){var t={};e.classDivisionDetail.sfirstname&&(t.sfirstname=e.classDivisionDetail.sfirstname),e.selectClassDivision&&(t.class_id=e.selectClassDivision.id),e.selectedDivision&&(t.division_id=e.selectedDivision.id),n.classDivisionFilterDetail(e.schoolId,t).then(function(t){console.log(t),e.classDivisionFilterDetails=t.data.students,e.getElgaRegularDivision(),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getDivision=function(t){var a=t;angular.forEach(e.classDivisionDetail,function(t,s){t.id==a&&(e.divisionList=t.divs,console.log(e.divisionList))})},e.submitRegularDivDetail=function(t,a){var s=a.admissionId,o={division_id:t};n.classDivDetailsSubmit(o,s).then(function(t){console.log(t),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.submitElgaDivDetail=function(t,a){var s=a.admissionId,o={elga_division_id:t};n.classDivDetailsSubmit(o,s).then(function(t){console.log(t),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").directive("onchange",["$parse",function(e){function t(t,a,s){var o=e(s.onchange);a.on("change",function(e){o(t,{$files:e.target.files})})}return{link:t}}]).controller("ClassteacherMappingController",["$scope","$http","$rootScope","Account","$stateParams","$state","classTeacherMappingFactory",function(e,t,a,s,o,n,r){e.schoolId=o.schoolId,e.schoolname=o.schoolname,e.sortReverse=!1,e.getClassTeacherMappingDetails=function(){r.getClassTeacherMappingDetail(e.schoolId).then(function(t){e.classTeacherMapDetails=t.data.classes,console.log(e.classTeacherMapDetails);var a=e.classTeacherMapDetails.length,s=a/2;e.left=e.classTeacherMapDetails.slice(0,s),e.right=e.classTeacherMapDetails.slice(s,a),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassTeacherMappingDetails(),e.getClassteacherDetail=function(){r.getClassTeacherListDetail(e.schoolId).then(function(t){e.classTeacherList=t.data.users_details,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassteacherDetail(),e.submitTeacherName=function(t,a){console.log("currentclassId",a),console.log("teacherId",t);var s={class_teacher_id:t};r.getClassTeacherSubmitDetail(e.schoolId,a,s).then(function(t){console.log(t),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.uploadFile=function(e,a){console.log(a);var s=new FormData;angular.forEach(e,function(e,t){s.append("timetable",e)});var o={method:"POST",url:"/api/classTimeTable/"+a,data:s,headers:{"Content-Type":void 0}};t(o).success(function(e){alert("File uploaded Successfull")}).error(function(){alert("Something went wrong")})}}]),angular.module("MyApp").controller("departmentController",["$scope","$state","departmentFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getDepartmentDetails=function(){a.getdepartmentDetail().then(function(t){console.log(t.data.data),e.departmentDetails=t.data.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getDepartmentDetails(),e.getDepartmentDetailsByID=function(t){e.departmentID=t,a.getdepartmentDetailByID(e.departmentID).then(function(t){e.departmentDetailsByid=t.data.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addDepartmentDetails=function(o){e.errorMessage="",o.$valid&&a.add_departmentDetail(e.addDepartmentData).then(function(a){console.log(e.addDepartmentData),1==a.data.success?(e.messages={success:[a.data]},e.addDepartmentData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addDepartmentModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelDepartment=function(){e.addDepartmentData={}},e.editDepartmentDetails=function(o){o.$valid&&a.editDepartmentDetail(e.departmentDetailsByid,e.departmentID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.departmentDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("editDepartmentModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("designationController",["$scope","$state","designationFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getDesignationDetails=function(){a.getDesignationDetail().then(function(t){console.log(t.data),e.designationDetails=t.data.data,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getDesignationDetails(),e.getDesignationDetailsByID=function(t){e.designationID=t,a.getDesignationDetailByID(e.designationID).then(function(t){e.designationDetailsByid=t.data.data,console.log("pop ka data"+t.data.data),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addDesignationDetails=function(o){e.errorMessage="",o.$valid&&a.addDesignationDetail(e.addDesignationData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addDesignationData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addDesignationModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelDesignation=function(){e.addDesignationData={}},e.editDesignationDetails=function(o){e.errorMessage="",o.$valid&&a.editDesignationDetail(e.designationDetailsByid,e.designationID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.designationDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addDesignationModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteDesignationDetails=function(t){e.id=t,a.deleteDesignationDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getDesignationDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("EditBasicProfileSchoolController",["$scope","$rootScope","Account","$stateParams","$state","editBasicProfileFactory",function(e,t,a,s,o,n){e.schoolId=s.schoolId,e.schoolname=s.schoolname,console.log(e.schoolname),e.getEditBasicProfileDetails=function(){n.getEditBasicProfileDetail(e.schoolId).then(function(t){e.schoolBasicInfoMapDetails=t.data.school,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getEditBasicProfileDetails(),e.editBasicProfilePost=function(){n.getEditBasicProfileSubmit(e.schoolId,e.schoolBasicInfoMapDetails).then(function(t){e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("EditManagestudentsController",["$scope","$rootScope","Account","$stateParams","$state","managestudentsfactory","pincodeFactory","classDivisionFactory",function(e,t,a,s,o,n,r,c){e.schoolId=s.schoolId,e.student_id=s.student_id,e.schoolname=s.schoolname,e.blank="",e.showCityState=!0,e.EditManagestudentsData=function(){e.bloodgroup=[{name:"A+"},{name:"A-"},{name:"B+"},{name:"B-"},{name:"O+"},{name:"O-"},{name:"AB+"},{name:"AB-"}],e.status=[{id:"inactive",name:"Inactive"},{id:"active",name:"Active"},{id:"completed",name:"Completed"},{id:"trasferred",name:"Trasferred"}],n.getmanageStudentsdetailByID(e.schoolId,e.student_id).then(function(t){e.editstudentsDetails=t.data.students,e.checkPinCode(e.editstudentsDetails.pincode);var a=e.editstudentsDetails.sa[0].admissiondate.split("T")[0];console.log(a),e.editstudentsDetails.sa[0].admissiondate=new Date(a.split("-")[0],a.split("-")[1]-1,a.split("-")[2]);var s=e.editstudentsDetails.dateofbirth.split("T")[0];console.log(s),e.editstudentsDetails.dateofbirth=new Date(s.split("-")[0],s.split("-")[1]-1,s.split("-")[2]),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.EditManagestudentsData(),e.checkPinCode=function(t){r.getPincodeDetails(t).then(function(t){for(e.pincodeDetails=t.data.pincode,e.messages={success:[t.data]},e.uniqueStates=[],i=0;i<e.pincodeDetails.length;i++)e.uniqueStates.indexOf(e.pincodeDetails[i].state)===-1&&e.uniqueStates.push(e.pincodeDetails[i].state);e.showCityState=!1})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails=function(){c.getClassDivisionDetail(e.schoolId).then(function(t){if(e.classDetails=t.data,e.regularclass=[],e.elgaclass=[],e.sectionDetails_regular=[],e.sectionDetails_elga=[],0!=e.classDetails.length)for(i=0;i<e.classDetails.length;i++)if("regular"==e.classDetails[i].type){if(e.regularclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_regular)&&e.sectionDetails_regular.push(e.classDetails[i].divs[j])}else if(e.elgaclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_elga)&&e.sectionDetails_elga.push(e.classDetails[i].divs[j]);e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails(),e.checkValue=function(e,t){var a=!0;if(0!=t.length)for(var s=0;s<t.length;s++){var o=t[s].id;if(o==e){a=!1;break}}return a},e.editstudentBasicProfile=function(t){console.log(e.editstudentsDetails);var a=!0;return angular.forEach(t.$error.required,function(e){e.$setDirty(),a=!1}),!(!t.$valid||!a)&&void n.editStudentmanagementDetail(e.schoolId,e.student_id,e.editstudentsDetails).then(function(e){console.log(e),$sucess=e.data.success,1==$sucess?alert("Student edited successfully"):alert("Failure in student edition")})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.showMessage=function(e){var t=e.$invalid&&(e.$dirty||e.$touched);return t}}]),angular.module("MyApp").directive("onchange",["$parse",function(e){function t(t,a,s){var o=e(s.onchange);a.on("change",function(e){o(t,{$files:e.target.files})})}return{link:t}}]).controller("ManagestudentsController",["$scope","$http","$rootScope","Account","$stateParams","$state","managestudentsfactory","classDivisionFactory",function(e,t,a,s,o,n,r,c){e.schoolId=o.schoolId,e.schoolname=o.schoolname,e.itemsPerPage=10,e.currentPage=1,e.studentsDetails,e.studentfilterdata,e.files,e.showData=function(){r.getmanageStudentsdetail(e.schoolId,e.currentPage,e.studentfilterdata).then(function(t){e.studentsDetails=t.data.students,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.showData(),e.showData_filter=function(){e.currentPage=1,e.showData()},e.range=function(){var t=[];if(0!=e.pageCount()){var a,s=e.pageCount();a=e.currentPage,a>e.pageCount()-s&&(a=e.pageCount()-s+1);for(var o=a;o<a+s;o++)o>=1&&t.push(o);return t}return t},e.prevPage=function(){e.currentPage>1&&(e.currentPage--,e.showData())},e.DisablePrevPage=function(){return 1===e.currentPage?"disabled":""},e.pageCount=function(){return null==e.studentsDetails||""==e.studentsDetails?0:0!=e.studentsDetails.length?Math.ceil(e.studentsDetails[0].fullcount/e.itemsPerPage):0},e.nextPage=function(){e.currentPage<e.pageCount()&&(e.currentPage++,e.showData())},e.DisableNextPage=function(){return 0!=e.pageCount()?e.currentPage===e.pageCount()?"disabled":"":"disabled"},e.setPage=function(t){e.currentPage=t,e.showData()},e.getClassDetails=function(){c.getClassDivisionDetail(e.schoolId).then(function(t){if(e.classDetails=t.data,e.regularclass=[],e.elgaclass=[],e.sectionDetails_regular=[],e.sectionDetails_elga=[],0!=e.classDetails.length)for(i=0;i<e.classDetails.length;i++)if("regular"==e.classDetails[i].type){if(e.regularclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_regular)&&e.sectionDetails_regular.push(e.classDetails[i].divs[j])}else if(e.elgaclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_elga)&&e.sectionDetails_elga.push(e.classDetails[i].divs[j]);e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails(),e.checkValue=function(e,t){var a=!0;if(0!=t.length)for(var s=0;s<t.length;s++){var o=t[s].id;if(o==e){a=!1;break}}return a},e.editStudentmanagement=function(e,t,a){var s=n.href("edit_student_management",{schoolId:e,student_id:t,schoolname:a});window.open(s,"_blank")},e.addStudentmanagement=function(e,t){n.go("add_student_management",{schoolId:e,schoolname:t})},e.uploadFile=function(a){var s=new FormData;angular.forEach(a,function(e,t){s.append("studentimport",e)});var o={method:"POST",url:"/api/schools/"+e.schoolId+"/students/import",data:s,headers:{"Content-Type":void 0}};t(o).success(function(e){alert("File uploaded Successfull")}).error(function(){alert("Something went wrong")})},e.downloadFile=function(){r.downloadFile(e.schoolId,e.studentfilterdata).then(function(e){console.log(e);var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=(window.URL||window.webkitURL).createObjectURL(t),s=document.createElement("a");s.download="StudentList.xlsx",s.href=a,s.click(),"OK"==e.statusText?alert("File downloaded Successfull"):alert("Something went wrong")},function(e){})}}]),angular.module("MyApp").filter("pagination",function(){return function(e,t){return t=parseInt(t,10),e.slice(t)}}),angular.module("MyApp").controller("schoolrolesController",["$scope","$state","roleFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getRoleDetails=function(){a.getRoleDetail().then(function(t){e.roleDetails=t.data.roles,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getRoleDetails(),e.getRoleDetailsByID=function(t){e.roleID=t,a.getRoleDetailByID(e.roleID).then(function(t){e.roleDetailsByid=t.data.role,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addRoleDetails=function(o){if(e.errorMessage="",o.$valid){var n={role_name:e.role_name,role_type:"School Managment User"};a.addRoleDetail(n).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addRoleData={},o.$setUntouched(),o.$setPristine(!0),$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}},e.cancelRole=function(){e.addRoleData={}},e.editRoleDetails=function(o){e.errorMessage="",o.$valid&&a.editRoleDetail(e.roleDetailsByid,e.roleID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.roleDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("editRoleModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(e.errorMessage=a.data.msg,setTimeout(function(){$(".error_msg").addClass("hideError")},2e3))})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("Studentpromotioncontroller",["$scope","$rootScope","Account","$stateParams","$state","studentpromotionfactory","classDivisionFactory",function(e,t,a,s,o,n,r){e.schoolId=s.schoolId,e.schoolname=s.schoolname,console.log(e.schoolname),console.log(e.schoolId),e.GetstudentsData=function(){angular.isUndefined(e.studentfilterdata)||null==e.studentfilterdata||""==e.studentfilterdata?alert("No any input for search"):!angular.isUndefined(e.studentfilterdata.regularclassid)&&null!=e.studentfilterdata.regularclassid&&""!=e.studentfilterdata.regularclassid||!angular.isUndefined(e.studentfilterdata.elgastartclassid)&&null!=e.studentfilterdata.elgastartclassid&&""!=e.studentfilterdata.elgastartclassid||!angular.isUndefined(e.studentfilterdata.name)&&null!=e.studentfilterdata.name&&""!=e.studentfilterdata.name?(e.regularaction=[{id:"promote",name:"Promote"},{id:"terminate",name:"Detaine"},{id:"tc",name:"TC"}],n.getStudentsdetail(e.schoolId,e.studentfilterdata).then(function(t){e.studentspromotionDetails=t.data.students,console.log(e.studentspromotionDetails),angular.forEach(e.studentspromotionDetails,function(e,t){e.rdivisioDisabled=!1,e.eclassDisabled=!1,e.edivisionDisabled=!1}),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})):alert("Selection only on division is not allowed")},e.getClassDetails=function(){r.getClassDivisionDetail(e.schoolId).then(function(t){if(e.classDetails=t.data,e.regularclass=[],e.elgaclass=[],e.sectionDetails_regular=[],e.sectionDetails_elga=[],0!=e.classDetails.length)for(i=0;i<e.classDetails.length;i++)if("regular"==e.classDetails[i].type){if(e.regularclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_regular)&&e.sectionDetails_regular.push(e.classDetails[i].divs[j])}else if(e.elgaclass.push(e.classDetails[i]),0!=e.classDetails[i].divs.length)for(j=0;j<e.classDetails[i].divs.length;j++)1==e.checkValue(e.classDetails[i].divs[j].id,e.sectionDetails_elga)&&e.sectionDetails_elga.push(e.classDetails[i].divs[j]);e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails(),e.checkValue=function(e,t){var a=!0;if(0!=t.length)for(var s=0;s<t.length;s++){var o=t[s].id;if(o==e){a=!1;break}}return a},e.onregularactionChange=function(e,t){"tc"==e?(t.rdivisioDisabled=!0,t.eclassDisabled=!0,t.edivisionDisabled=!0):(t.rdivisioDisabled=!1,t.eclassDisabled=!1,t.edivisionDisabled=!1),t.action=e},e.submitpromotiondata=function(t){e.promotedstudentlist=[];var a=0;if(angular.isUndefined(t)||null==t);else if(0!=t.length){for(j=0;j<t.length;j++)t[j].hasOwnProperty("action")&&t[j].hasOwnProperty("new_regular_division_id")&&t[j].hasOwnProperty("elga_action")&&t[j].hasOwnProperty("new_elga_division_id")&&!angular.isUndefined(t[j].admissionId)&&(e.promotedstudentlist[a]={student_admission_id:t[j].admissionId,action:t[j].action,new_regular_division_id:t[j].new_regular_division_id,elga_action:t[j].elga_action,new_elga_division_id:t[j].new_elga_division_id},a+=1);console.log(e.promotedstudentlist),n.promotesstudent(e.promotedstudentlist).then(function(t){console.log(t),"OK"==t.statusText?(e.GetstudentsData(),alert("Student has been promoted successfully")):alert("Something went wrong during student promotion"),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}}]),
angular.module("MyApp").controller("SubjectteacherMappingController",["$scope","$rootScope","Account","$stateParams","$state","subjectTeacherMappingFactory",function(e,t,a,s,o,n){e.schoolId=s.schoolId,e.schoolname=s.schoolname,e.classDivisionListDetails=function(){n.getClassDivisionListDetail(e.schoolId).then(function(t){e.classDivisionList=t.data})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.classDivisionListDetails(),e.selectedClassDivision=function(t){var a=t;angular.forEach(e.classDivisionList,function(t,s){t.id==a&&(e.divisionList=t.divs,console.log(e.divisionList))})},e.getSubjectListDetails=function(){n.getSubjectListDetail().then(function(t){e.subjectList=t.data.subjects})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSubjectListDetails(),e.getClassteacherDetail=function(){n.getClassTeacherListDetail(e.schoolId).then(function(t){e.classTeacherList=t.data.users_details,console.log(e.classTeacherList),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassteacherDetail(),e.subjectFilter=function(){var t={};e.selectClassDivision||e.subjectTeacherMapDetail.subject_teacher||e.selectsubjectList?(e.selectClassDivision&&(t.class_id=e.selectClassDivision.id),e.subjectdivisionList&&(t.division_id=e.subjectdivisionList.id),e.selectsubjectList&&(t.subject_id=e.selectsubjectList.id),e.selectClassSubjectTeacherlist&&(t.subject_teacher_id=e.selectClassSubjectTeacherlist.id)):alert("please division..."),n.getSubjectTeacherFilterDetail(e.schoolId,t).then(function(t){console.log(t),e.subjectTeacherMapDetails=t.data.school_content,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.submitSubjectTeacherName=function(t,a){var s={subject_teacher_id:t};n.getSubjectTeacherSubmitDetail(a,s).then(function(t){console.log(t),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("boardController",["$scope","$state","boardFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getBoardDetails=function(){a.getBoardDetail().then(function(t){e.boardDetails=t.data.board,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getBoardDetails(),e.getBoardDetailsByID=function(t){e.boardID=t,a.getBoardDetailByID(e.boardID).then(function(t){e.boardDetailsByid=t.data.board,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addBoardDetails=function(o){e.errorMessage="",o.$valid&&a.addBoardDetail(e.addBoardData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addBoardData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addBoardModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelBoard=function(){e.errorMessage="",e.addBoardData={}},e.editBoardDetails=function(o){o.$valid&&a.editBoardDetail(e.boardDetailsByid,e.boardID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.boardDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addBoardModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):(console.log("djkskjcs"),e.errorMessage=a.data.msg)})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteBoardDetails=function(t){e.id=t,a.deleteBoardDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getBoardDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("classController",["$scope","$state","classFactory","subjectFactory",function(e,t,a,s){function o(){$("body").addClass("remove_rightpadding")}e.subject_ids=[],e.getClassDetails=function(){a.getClassDetail().then(function(t){e.classDetails=t.data.classes,console.log(e.classDetails),e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClassDetails(),e.getSubjectDetails=function(){s.getSubjectDetail().then(function(t){e.subjectDetails=t.data.subjects,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSubjectDetails(),e.getClassDetailsByID=function(t){e.classID=t,a.getClassDetailByID(e.classID).then(function(t){e.classDetailsByid=t.data["class"],t.data["class"].subjects.forEach(function(t){e.subject_ids.push(t.subject_id)}),"elga"==e.classDetailsByid.class_type?e.subShow=!1:e.subShow=!0,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addClassDetails=function(s){e.errorMessage="",s.$valid&&(e.subject_ids.length>0&&(e.addClassData.subject_ids=e.subject_ids),a.addClassDetail(e.addClassData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addClassData={},s.$setUntouched(),s.$setPristine(!0),document.getElementById("addClassModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),o()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.cancelClass=function(){e.errorMessage="",e.addClassData={},e.subject_ids=[],e.classDetailsByid={}},e.editClassDetails=function(s){s.$valid&&(e.subject_ids.length>0&&(e.classDetailsByid.subject_ids=e.subject_ids),a.editClassDetail(e.classDetailsByid,e.classID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.classDetailsByid={},s.$setUntouched(),s.$setPristine(!0),document.getElementById("addClassModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),o()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.deleteClassDetails=function(t){e.id=t,a.deleteClassDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getClassDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.classtypeChange=function(t){"elga"==t?e.subShow=!1:e.subShow=!0}}]),angular.module("MyApp").controller("clusterController",["$scope","$state","clusterFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getClusterDetails=function(){a.getClusterDetail().then(function(t){e.clusterDetails=t.data.cluster,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getClusterDetails(),e.getClusterDetailsByID=function(t){e.clusterID=t,a.getClusterDetailByID(e.clusterID).then(function(t){e.clusterDetailsByid=t.data.cluster,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addClusterDetails=function(o){e.errorMessage="",o.$valid&&a.addClusterDetail(e.addClusterData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addClusterData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addClusterModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelCluster=function(){e.errorMessage="",e.addClusterData={}},e.editClusterDetails=function(o){o.$valid&&a.editClusterDetail(e.clusterDetailsByid,e.clusterID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.clusterDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addClusterModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteClusterDetails=function(t){e.id=t,a.deleteClusterDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getClusterDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("componentController",["$scope","$state","componentFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getComponentDetails=function(){a.getComponentDetail().then(function(t){e.componentDetails=t.data.component,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getComponentDetails(),e.getComponentDetailsByID=function(t){e.componentID=t,a.getComponentDetailByID(e.componentID).then(function(t){e.componentDetailsByid=t.data.component,e.componentDetailsByid.name=e.componentDetailsByid.component_name,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addComponentDetails=function(o){e.errorMessage="",o.$valid&&a.addComponentDetail(e.addComponentData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addComponentData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addComponentModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelComponent=function(){e.errorMessage="",e.addComponentData={}},e.editComponentDetails=function(o){o.$valid&&a.editComponentDetail(e.componentDetailsByid,e.componentID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.componentDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addComponentModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteComponentDetails=function(t){e.id=t,a.deleteComponentDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getComponentDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("resourceTypeController",["$scope","$state","resourceTypeFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getResourceTypeDetails=function(){a.getResourceTypeDetail().then(function(t){e.resourceTypeDetails=t.data.resourceType,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getResourceTypeDetails(),e.getResourceTypeDetailsByID=function(t){e.resourceTypeID=t,a.getResourceTypeDetailByID(e.resourceTypeID).then(function(t){e.resourceTypeDetailsByid=t.data.resourceType,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addResourceTypeDetails=function(o){e.errorMessage="",o.$valid&&a.addResourceTypeDetail(e.addResourceTypeData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addResourceTypeData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addResourceTypeModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelResourceType=function(){e.errorMessage="",e.addResourceTypeData={}},e.editResourceTypeDetails=function(o){o.$valid&&a.editResourceTypeDetail(e.resourceTypeDetailsByid,e.resourceTypeID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.resourceTypeDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addResourceTypeModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteResourceTypeDetails=function(t){e.id=t,a.deleteResourceTypeDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getResourceTypeDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("roleController",["$scope","$state","roleFactory","permissionFactory",function(e,t,a,s){function o(){$("body").addClass("remove_rightpadding")}e.permissions_ids=[],e.getRoleDetails=function(){a.getRoleDetail().then(function(t){e.roleDetails=t.data.roles,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getRoleDetailsByID=function(t){e.roleID=t,a.getRoleDetailByID(e.roleID).then(function(t){e.roleDetailsByid=t.data.role,e.roleDetailsByid.name=e.roleDetailsByid.role_name,e.roleDetailsByid.type=e.roleDetailsByid.role_type,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getUserPermissions=function(){s.getUserPermission().then(function(t){e.permissions=t.data.permissions,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addRoleDetails=function(s){e.errorMessage="",s.$valid&&(e.permissions_ids.length>0&&(e.addRoleData.permissions_ids=e.permissions_ids),a.addRoleDetail(e.addRoleData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addRoleData={},s.$setUntouched(),s.$setPristine(!0),document.getElementById("addRoleModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),o()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.cancelRole=function(){e.errorMessage="",e.addRoleData={}},e.editRoleDetails=function(s){s.$valid&&(e.permissions_ids.length>0&&(e.roleDetailsByid.permissions_ids=e.permissions_ids),a.editRoleDetail(e.roleDetailsByid,e.roleID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.roleDetailsByid={},s.$setUntouched(),s.$setPristine(!0),document.getElementById("addRoleModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),o()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}}))},e.deleteRoleDetails=function(t){e.id=t,a.deleteRoleDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getRoleDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getRoleDetails(),e.getUserPermissions()}]),angular.module("MyApp").controller("sectionController",["$scope","$state","sectionFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getSectionDetails=function(){a.getSectionDetail().then(function(t){e.sectionDetails=t.data.sections,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSectionDetails(),e.getSectionDetailsByID=function(t){e.sectionID=t,a.getSectionDetailByID(e.sectionID).then(function(t){e.sectionDetailsByid=t.data.section,e.sectionDetailsByid.name=e.sectionDetailsByid.section_name,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addSectionDetails=function(o){e.errorMessage="",o.$valid&&a.addSectionDetail(e.addSectionData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addSectionData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addSectionModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelSection=function(){e.errorMessage="",e.addSectionData={}},e.editSectionDetails=function(o){o.$valid&&a.editSectionDetail(e.sectionDetailsByid,e.sectionID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.sectionDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addSectionModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteSectionDetails=function(t){e.id=t,a.deleteSectionDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getSectionDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").controller("subjectController",["$scope","$state","subjectFactory",function(e,t,a){function s(){$("body").addClass("remove_rightpadding")}e.getSubjectDetails=function(){a.getSubjectDetail().then(function(t){e.subjectDetails=t.data.subjects,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.getSubjectDetails(),e.getSubjectDetailsByID=function(t){e.subjectID=t,a.getSubjectDetailByID(e.subjectID).then(function(t){e.subjectDetailsByid=t.data.subject,e.messages={success:[t.data]}})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.addSubjectDetails=function(o){e.errorMessage="",o.$valid&&a.addSubjectDetail(e.addSubjectData).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.addSubjectData={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addSubjectModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.cancelSubject=function(){e.errorMessage="",e.addSubjectData={}},e.editSubjectDetails=function(o){o.$valid&&a.editSubjectDetail(e.subjectDetailsByid,e.subjectID).then(function(a){1==a.data.success?(e.messages={success:[a.data]},e.subjectDetailsByid={},o.$setUntouched(),o.$setPristine(!0),document.getElementById("addSubjectModal").style.display="none",$(".modal-backdrop").removeClass("modal-backdrop"),t.reload(),s()):e.errorMessage=a.data.msg})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})},e.deleteSubjectDetails=function(t){e.id=t,a.deleteSubjectDetail(e.id).then(function(t){e.messages={success:[t.data]},e.getSubjectDetails()})["catch"](function(t){e.messages={error:Array.isArray(t.data)?t.data:[t.data]}})}}]),angular.module("MyApp").factory("Account",["$http",function(e){return{updateProfile:function(t){return e.put("/account",t)},changePassword:function(t){return e.put("/account",t)},deleteAccount:function(){return e["delete"]("/account")},forgotPassword:function(t){return e.post("/forgotPassword",t)},resetPassword:function(t){return e.post("/resetPassword",t)},verifyOtp:function(t){return e.post("/verifyOtp",t)},verifyForgotPassword:function(t){return e.post("/resetPassword",t)}}}]),angular.module("MyApp").factory("Contact",["$http",function(e){return{send:function(t){return e.post("/contact",t)}}}]),angular.module("MyApp").factory("schoolDocumentFactory",["$http",function(e){return{getDocumentsBySchoolID:function(t){return console.log("schoolId ",t),e.get("/api/schools/"+t+"/documents")},addDocument:function(t,a){var s="/api/schools/"+t+"/documents",o=new FormData;return o.append("file",a.document),o.append("doc_id",222),o.append("document_url","http://www.mobinexttech.com/wp-content/themes/mobinexttech/images/logo.png"),o.append("document_type",a.document_type),e.post(s,o,{transformRequest:angular.identity,headers:{"Content-Type":void 0},file:a})}}}]),angular.module("MyApp").factory("schoolMasterFactory",["$http","$httpParamSerializerJQLike",function(e,t){return{getSchoolSalesList:function(){return e.get("/api/schools/salesList")},deactiveSchool:function(t){return e.put("/api/schools/"+t+"/deactivate")},activeSchool:function(t){return e.put("/api/schools/"+t+"/activate")},getSchoolBasicInfo:function(t){return e.get("/api/schools/"+t)},addSchools:function(t){var a="/api/schools",s=new FormData;return s.append("coverImage",t.coverImage),s.append("logo",t.logo),s.append("acadyear",t.acadyear),s.append("address1",t.address1),s.append("address2",t.address2),s.append("admin_mobile",t.admin_mobile),s.append("city",t.city),s.append("cluster",t.cluster),s.append("email",t.email),s.append("established",t.established),s.append("home_phone",t.home_phone),s.append("mission",t.mission),s.append("name",t.name),s.append("newspaper",t.newspaper),s.append("pincode",t.pincode),s.append("school_chain",t.school_chain),s.append("school_type",t.school_type),s.append("state",t.state),s.append("vision",t.vision),s.append("website",t.website),s.append("yearBook",t.yearBook),e.post(a,s,{transformRequest:angular.identity,headers:{"Content-Type":void 0},file:t})},editSchoolBasicInfo:function(t,a){var s="/api/schools/"+t,o=new FormData;return o.append("coverImage",a.coverImage),o.append("logo",a.logo),o.append("acadyear",a.acadyear),o.append("address1",a.address1),o.append("address2",a.address2),o.append("admin_mobile",a.admin_mobile),o.append("city",a.city),o.append("cluster",a.cluster),o.append("email",a.email),o.append("established",a.established),o.append("home_phone",a.home_phone),o.append("mission",a.mission),o.append("name",a.name),o.append("newspaper",a.newspaper),o.append("pincode",a.pincode),o.append("school_chain",a.school_chain),o.append("school_type",a.school_type),o.append("state",a.state),o.append("vision",a.vision),o.append("website",a.website),o.append("yearBook",a.yearBook),e.put(s,o,{transformRequest:angular.identity,headers:{"Content-Type":void 0},file:a})},getSchoolClassConfig:function(t){return e.get("/api/schools/"+t+"/schoolClassConfig")},addSchoolClassConfig:function(t){return e.post("/api/schoolClassConfig",t)},getSchoolContentConfig:function(t){return e.get("/api/schoolSubjectConfig?school_id="+t)},addSchoolContentConfig:function(t){return e.post("/api/schoolSubjectConfig",t)},searchSchoolSalesList:function(t){return console.log("data"),console.log(t),e.get("/api/schools/salesList?"+t)}}}]),angular.module("MyApp").factory("schoolPaymentFactory",["$http",function(e){return{getPaymentsBySchoolID:function(t){return console.log("schoolId ",t),e.get("/api/schools/"+t+"/payments")},addPayment:function(t,a){return console.log("schoolId ",t),console.log("document ",a),e.post("/api/schools/"+t+"/payments",a)},getPayment:function(t){return e.get("/api/payments/"+t)},editPayment:function(t,a){return console.log("data ",a),e.put("/api/payments/"+t,a)},downloadInvoice:function(t){return e.get("/api/payments/"+t+"/download")}}}]),angular.module("MyApp").factory("schoolUsersFactory",["$http",function(e){return{getSchoolUsersBySchoolId:function(t){return console.log("schoolId ",t),e.get("/api/schools/"+t+"/users")},addSchoolUsers:function(t,a){return console.log("data ",a),e.post("/api/schools/"+t+"/users",a)},editSchoolUser:function(t,a,s){return console.log("data ",s),e.put("/api/schools/"+t+"/users/"+a,s)},getUserByUserId:function(t,a){return e.get("/api/schools/"+t+"/users/"+a)},uploadUserList:function(t,a){var s="/api/schools/"+t+"/users/upload",o=new FormData;return o.append("file",a),e.post(s,o,{transformRequest:angular.identity,headers:{"Content-Type":void 0},file:a})}}}]),angular.module("MyApp").factory("boyScoreFactory",["$http",function(e){return{getBoyScoreDetail:function(t){return e.get("/api/boyElgaAssessment?school_id="+t)},getBoyScoreFilterDetail:function(t,a){var s="/api/boyElgaAssessment?school_id="+t;return e({url:s,method:"GET",params:a})},getLiteacylevelDetail:function(){return e.get("api/classes")},getClassDivDetails:function(t){return e.get("/api/schools/"+t+"/classesanddivisions")},getBoyDetailSubmit:function(t,a){return console.log(t),e.put("/api/boyElgaAssessment/"+a,t)},deletStudenBOYDetails:function(t){return e["delete"]("/api/boyElgaAssessment/"+t)}}}]),angular.module("MyApp").factory("classDivisionFactory",["$http",function(e){return{classDivisionFilterDetail:function(t,a){var s="api/studentDivision?school_id="+t;return e({url:s,method:"GET",params:a})},getClassDivisionDetail:function(t){return e.get("/api/schools/"+t+"/classesanddivisions")},classDivDetailsSubmit:function(t,a){return e.put("/api/studentDivision/"+a,t)}}}]),angular.module("MyApp").factory("classTeacherMappingFactory",["$http",function(e){return{getClassTeacherMappingDetail:function(t){return e.get("/api/schools/"+t+"/schoolclasses")},getClassTeacherListDetail:function(t){return e.get("/api/schools/"+t+"/users/")},getClassTeacherSubmitDetail:function(t,a,s){return e.put("/api/schools/"+t+"/schoolclasses/"+a,s)}}}]),angular.module("MyApp").factory("departmentFactory",["$http",function(e){return{getdepartmentDetail:function(){return e.get("/api/departments")},getdepartmentDetailByID:function(t){return e.get("/api/departments/"+t)},add_departmentDetail:function(t){return e.post("/api/departments",t)},editDepartmentDetail:function(t,a){return e.put("/api/departments/"+a,t)}}}]),angular.module("MyApp").factory("designationFactory",["$http",function(e){return{getDesignationDetail:function(){return e.get("/api/designations")},getDesignationDetailByID:function(t){return console.log("id ",t),e.get("/api/designations/"+t)},addDesignationDetail:function(t){return e.post("/api/designations",t)},editDesignationDetail:function(t,a){return e.put("/api/designations/"+a,t)},deleteDesignationDetail:function(t){return e["delete"]("/api/designations/"+t)}}}]),angular.module("MyApp").factory("editBasicProfileFactory",["$http",function(e){return{getEditBasicProfileDetail:function(t){return e.get("/api/schools/"+t)},getEditBasicProfileSubmit:function(t,a){return e.put("/api/schools/"+t+"/profile",a)}}}]),angular.module("MyApp").factory("managestudentsfactory",["$http",function(e){return{getmanageStudentsdetail:function(t,a,s){if(angular.isUndefined(s)||null==s||""==s)return e.get("/api/schools/"+t+"/students?page="+a);var o="",n="",r="",i="",c="";return angular.isUndefined(s.regularclassid)||(o=s.regularclassid),angular.isUndefined(s.regulardivisionid)||(r=s.regulardivisionid),angular.isUndefined(s.name)||(n=s.name),angular.isUndefined(s.elgastartclassid)||(i=s.elgastartclassid),angular.isUndefined(s.elgastartdivisionid)||(c=s.elgastartdivisionid),e.get("/api/schools/"+t+"/students?page="+a+"&regular_class_id="+o+"&student_name="+n+"&regular_division_id="+r+"&elgastart_class_id="+i+"&elgastart_division_id="+c)},getmanageStudentsdetailByID:function(t,a){return e.get("/api/schools/"+t+"/students/"+a)},addstudentmanagementDetail:function(t,a){return e.post("/api/schools/"+t+"/students",a)},editStudentmanagementDetail:function(t,a,s){return e.put("/api/schools/"+t+"/students/"+a,s)},downloadFile:function(t,a){if(angular.isUndefined(a)||null==a||""==a){var s={method:"POST",url:"api/schools/"+t+"/students/export/StudentList.xlsx",headers:{"Content-type":"application/json",Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"};return e(s)}var o="",n="",r="",i="",c="";angular.isUndefined(a.regularclassid)||(o=a.regularclassid),angular.isUndefined(a.regulardivisionid)||(r=a.regulardivisionid),angular.isUndefined(a.name)||(n=a.name),angular.isUndefined(a.elgastartclassid)||(i=a.elgastartclassid),angular.isUndefined(a.elgastartdivisionid)||(c=a.elgastartdivisionid);var s={method:"POST",url:"api/schools/"+t+"/students/export/StudentList.xlsx?regular_class_id="+o+"&student_name="+n+"&regular_division_id="+r+"&elgastart_class_id="+i+"&elgastart_division_id="+c,headers:{"Content-type":"application/json",Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"};return e(s)}}}]),angular.module("MyApp").factory("roleFactory",["$http",function(e){return{getRoleDetail:function(){return e.get("/api/roles")},getRoleDetailByID:function(t){return console.log("id ",t),e.get("/api/roles/"+t)},addRoleDetail:function(t){return e.post("/api/roles",t)},editRoleDetail:function(t,a){return e.put("/api/roles/"+a,t)}}}]),angular.module("MyApp").factory("studentpromotionfactory",["$http",function(e){return{getStudentsdetail:function(t,a){if(!angular.isUndefined(a)&&null!=a&&""!=a){var s="",o="",n="",r="",i="";return angular.isUndefined(a.regularclassid)||(s=a.regularclassid),angular.isUndefined(a.regulardivisionid)||(n=a.regulardivisionid),angular.isUndefined(a.name)||(o=a.name),angular.isUndefined(a.elgastartclassid)||(r=a.elgastartclassid),angular.isUndefined(a.elgastartdivisionid)||(i=a.elgastartdivisionid),e.get("/api/studentpromotions?school_id="+t+"&page=1&class_id="+s+"&student_name="+o+"&division_id="+n+"&elga_class_id="+r+"&elga_division_id="+i)}},promotesstudent:function(t){return e.put("/api/studentpromotions",t)}}}]),angular.module("MyApp").factory("subjectTeacherMappingFactory",["$http",function(e){return{getSubjectTeacherMappingDetail:function(t){return e.get("/api/schoolSubjectConfig?school_id="+t)},getSubjectTeacherFilterDetail:function(t,a){var s="/api/schoolSubjectConfig?school_id="+t;return e({url:s,method:"GET",params:a})},getClassTeacherListDetail:function(t){return e.get("/api/schools/"+t+"/users/")},getClassDivisionListDetail:function(t){return e.get("/api/schools/"+t+"/classesanddivisions")},getSubjectListDetail:function(){return e.get("/api/subjects")},getSubjectTeacherSubmitDetail:function(t,a){return e.put("api/schoolSubjectConfig/"+t,a)}}}]),angular.module("MyApp").factory("academicYearFactory",["$http",function(e){return{getAcademicYearDetail:function(){return e.get("/api/academicYears")},getAcademicYearDetailByID:function(t){return e.get("/api/academicYears/"+t)},addAcademicYearDetail:function(t){return e.post("/api/academicYears",t)},editAcademicYearDetail:function(t,a){return e.put("/api/academicYears/"+a,t)},deleteAcademicYearDetail:function(t){return e["delete"]("/api/academicYears/"+t)}}}]),angular.module("MyApp").factory("boardFactory",["$http",function(e){return{getBoardDetail:function(){return e.get("/api/boards")},getBoardDetailByID:function(t){return console.log("id ",t),e.get("/api/boards/"+t)},addBoardDetail:function(t){return e.post("/api/boards",t)},editBoardDetail:function(t,a){return e.put("/api/boards/"+a,t)},deleteBoardDetail:function(t){return e["delete"]("/api/boards/"+t)}}}]),angular.module("MyApp").factory("classFactory",["$http",function(e){return{getClassDetail:function(){return e.get("/api/classes")},getClassDetailByID:function(t){return console.log("id ",t),e.get("/api/classes/"+t)},addClassDetail:function(t){return e.post("/api/classes",t)},editClassDetail:function(t,a){return e.put("/api/classes/"+a,t)},deleteClassDetail:function(t){return e["delete"]("/api/classes/"+t)}}}]),angular.module("MyApp").factory("clusterFactory",["$http",function(e){return{getClusterDetail:function(){return e.get("/api/clusters")},getClusterDetailByID:function(t){return console.log("id ",t),e.get("/api/clusters/"+t)},addClusterDetail:function(t){return e.post("/api/clusters",t)},editClusterDetail:function(t,a){return e.put("/api/clusters/"+a,t)},deleteClusterDetail:function(t){return e["delete"]("/api/clusters/"+t)}}}]),angular.module("MyApp").factory("componentFactory",["$http",function(e){return{getComponentDetail:function(){return e.get("/api/components")},getComponentDetailByID:function(t){return console.log("id ",t),e.get("/api/components/"+t)},addComponentDetail:function(t){return e.post("/api/components",t)},editComponentDetail:function(t,a){return e.put("/api/components/"+a,t)},deleteComponentDetail:function(t){return e["delete"]("/api/components/"+t)}}}]),angular.module("MyApp").factory("divisionFactory",["$http",function(e){return{getDivisionDetail:function(){return e.get("/api/divisions")}}}]),angular.module("MyApp").factory("permissionFactory",["$http",function(e){return{getUserPermission:function(){return e.get("/api/permissions")}}}]),angular.module("MyApp").factory("pincodeFactory",["$http",function(e){return{getPincodeDetails:function(t){return e.get("/api/pincodes?code="+t)}}}]),angular.module("MyApp").factory("resourceTypeFactory",["$http",function(e){
return{getResourceTypeDetail:function(){return e.get("/api/resource_type")},getResourceTypeDetailByID:function(t){return console.log("id ",t),e.get("/api/resource_type/"+t)},addResourceTypeDetail:function(t){return e.post("/api/resource_type",t)},editResourceTypeDetail:function(t,a){return e.put("/api/resource_type/"+a,t)},deleteResourceTypeDetail:function(t){return e["delete"]("/api/resource_type/"+t)}}}]),angular.module("MyApp").factory("roleFactory",["$http",function(e){return{getRoleDetail:function(){return e.get("/api/roles")},getRoleDetailByID:function(t){return console.log("id ",t),e.get("/api/roles/"+t)},addRoleDetail:function(t){return e.post("/api/roles",t)},editRoleDetail:function(t,a){return e.put("/api/roles/"+a,t)},deleteRoleDetail:function(t){return e["delete"]("/api/roles/"+t)}}}]),angular.module("MyApp").factory("schoolTypeFactory",["$http",function(e){return{getSchoolTypeDetail:function(){return e.get("/api/schoolTypes")},getSchoolTypeDetailByID:function(t){return console.log("id ",t),e.get("/api/schoolTypes/"+t)},addSchoolTypeDetail:function(t){return e.post("/api/schoolTypes",t)},editSchoolTypeDetail:function(t,a){return e.put("/api/schoolTypes/"+a,t)},deleteSchoolTypeDetail:function(t){return e["delete"]("/api/schoolTypes/"+t)}}}]),angular.module("MyApp").factory("sectionFactory",["$http",function(e){return{getSectionDetail:function(){return e.get("/api/sections")},getSectionDetailByID:function(t){return console.log("id ",t),e.get("/api/sections/"+t)},addSectionDetail:function(t){return e.post("/api/sections",t)},editSectionDetail:function(t,a){return e.put("/api/sections/"+a,t)},deleteSectionDetail:function(t){return e["delete"]("/api/sections/"+t)}}}]),angular.module("MyApp").factory("subjectFactory",["$http",function(e){return{getSubjectDetail:function(){return e.get("/api/subjects")},getSubjectDetailByID:function(t){return console.log("id ",t),e.get("/api/subjects/"+t)},addSubjectDetail:function(t){return e.post("/api/subjects",t)},editSubjectDetail:function(t,a){return e.put("/api/subjects/"+a,t)},deleteSubjectDetail:function(t){return e["delete"]("/api/subjects/"+t)}}}]);